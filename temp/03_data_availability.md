# Data Availability in Fractal Network

## Introduction

Data availability is a critical aspect of the Fractal Network, ensuring that all necessary data is accessible to participants in the network. This document outlines the strategies employed to guarantee data availability, focusing on mechanisms such as data pinning, erasure coding, and the challenge-response protocol. **The F2P-inspired economic model, detailed in `08_economic_model.md`, introduces Guardian Agents who may also participate in ensuring data availability, complementing the primary role of Custodians.**

## Data Availability Strategies

### 1. Data Pinning

Data pinning is a technique used to ensure that critical data remains available within the network. 

- **Custodians** are primarily responsible for pinning the encrypted backups of micro-ledgers generated by agents. This process involves:
    - Storing backups in a decentralized manner, utilizing protocols like IPFS.
    - Regularly verifying the integrity and availability of the pinned data.
- **Guardian Agents** may also participate in data pinning tasks as part of their contribution to the network. This could involve:
    - Pinning a subset of data or providing redundant storage.
    - Participating in verification processes for data pinned by Custodians or other Guardians.
    - Their performance in these tasks would be tied to their reputation and potential rewards, as outlined in the economic model.

### 2. Erasure Coding

Erasure coding is employed by **Custodians** to enhance data resilience. This technique involves breaking data into fragments, which are then distributed across multiple custodians. Key benefits include:

- Increased fault tolerance: Even if some custodians become unavailable, the data can still be reconstructed from the remaining fragments.
- Efficient storage utilization: Erasure coding allows for optimal use of storage resources while maintaining data integrity.

**While Guardians might not directly manage erasure coded fragments, their role in ensuring availability of individual pieces or replicas could indirectly support the overall resilience strategy.**

### 3. Challenge-Response Protocol

To ensure that **Custodians and participating Guardians** maintain the availability of pinned data, a challenge-response protocol is implemented. This protocol works as follows:

- **Custodians and relevant Guardians** are periodically challenged to prove they still hold the necessary data they are responsible for.
- Upon receiving a challenge, they must respond with proof of data availability (e.g., a Merkle proof, a specific data chunk) within a defined timeframe.
- Failure to respond correctly can lead to penalties, including reputation loss and slashing of staked $FRAC, for both Custodians and Guardians, as per the economic model.

## Roles and Responsibilities

- **Custodians**: Have the primary responsibility for large-scale data storage, erasure coding, and ensuring the overall availability and integrity of critical network data, including Agent micro-ledger backups and global state anchors.
- **Guardian Agents**: Can contribute to data availability by performing specific tasks like pinning subsets of data, providing redundancy, or participating in availability verification. Their contributions are incentivized and monitored through the reputation and economic system.
- **Agents (General)**: Rely on the data availability guarantees provided by Custodians and Guardians for retrieving their own micro-ledger backups or other necessary network state.

## Conclusion

The data availability strategies outlined in this document are essential for maintaining the integrity and accessibility of the Fractal Network. By implementing data pinning, erasure coding, and a challenge-response protocol, **with distinct but complementary roles for both Custodians and Guardian Agents,** the network can ensure that all participants have access to the data they need, fostering a robust and resilient ecosystem. **The economic incentives and penalties tied to these roles are crucial for ensuring diligent participation.**