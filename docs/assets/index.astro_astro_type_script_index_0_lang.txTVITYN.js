const m=document.getElementById("theme-toggle"),a=document.getElementById("theme-toggle-dark-icon"),l=document.getElementById("theme-toggle-light-icon");m&&a&&l&&(localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?l.classList.remove("hidden"):a.classList.remove("hidden"),m.addEventListener("click",function(){a.classList.toggle("hidden"),l.classList.toggle("hidden"),localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))}));const g=document.getElementById("support-chat");g&&g.addEventListener("click",()=>{alert("¡Próximamente disponible! Estamos trabajando en nuestro sistema de soporte en vivo.")});const n=document.getElementById("backToTop");n&&(window.addEventListener("scroll",()=>{const s=window.pageYOffset>300;n.classList.toggle("opacity-0",!s),n.classList.toggle("invisible",!s),n.classList.toggle("translate-y-4",!s),n.classList.toggle("opacity-100",s),n.classList.toggle("visible",s),n.classList.toggle("translate-y-0",s)}),n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));const h=new IntersectionObserver(s=>{s.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate-fadeInUp"),h.unobserve(t.target))})},{threshold:.1});document.querySelectorAll(".fade-in-up").forEach(s=>h.observe(s));window.addEventListener("scroll",()=>{const s=document.getElementById("back-to-top");if(s){const o=s;window.addEventListener("scroll",()=>{o&&(window.scrollY>300?(o.classList.remove("opacity-0","invisible"),o.classList.add("opacity-100","visible")):(o.classList.remove("opacity-100","visible"),o.classList.add("opacity-0","invisible")))}),o.addEventListener("click",i=>{i.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})}const t=document.getElementById("particles");if(t instanceof HTMLCanvasElement){const o=t.getContext("2d");if(o){let i=function(){if(!(t instanceof HTMLCanvasElement))return;const e=window.innerWidth,r=window.innerHeight;t.width=e,t.height=r,t.style.width=`${e}px`,t.style.height=`${r}px`},c=function(){!(t instanceof HTMLCanvasElement)||!o||(o.clearRect(0,0,t.width,t.height),d.forEach(e=>{e.x+=e.speedX,e.y+=e.speedY,(e.x<0||e.x>t.width)&&(e.speedX*=-1),(e.y<0||e.y>t.height)&&(e.speedY*=-1),o.fillStyle="rgba(99, 102, 241, 0.8)",o.beginPath(),o.arc(e.x,e.y,e.size,0,Math.PI*2),o.fill()}),requestAnimationFrame(c))};i(),window.addEventListener("resize",i);const d=[],f=50;for(let e=0;e<f;e++)d.push({x:Math.random()*t.width,y:Math.random()*t.height,size:Math.random()*3+1,speedX:Math.random()*1-.5,speedY:Math.random()*1-.5});c()}}});
